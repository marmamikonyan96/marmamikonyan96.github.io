"use strict";var gulp=require("gulp"),concat=require("gulp-concat"),autoprefixer=require("gulp-autoprefixer"),cleanCSS=require("gulp-clean-css"),uglify=require("gulp-uglify"),del=require("del"),browserSync=require("browser-sync").create(),sourcemaps=require("gulp-sourcemaps"),sass=require("gulp-sass"),sassFiles=["./src/sass/main.sass"],jsFiles=["./src/js/main.js"];function styles(){return gulp.src(sassFiles).pipe(sourcemaps.init()).pipe(sass()).pipe(concat("style.css")).pipe(autoprefixer({browsers:["last 2 versions"],cascade:!1})).pipe(cleanCSS({level:2})).pipe(sourcemaps.write("./")).pipe(gulp.dest("./build/css")).pipe(browserSync.stream())}function scripts(){return gulp.src(jsFiles).pipe(concat("script.js")).pipe(uglify({toplevel:!0})).pipe(gulp.dest("./build/js")).pipe(browserSync.stream())}function clean(){return del(["build/*"])}function watch(){browserSync.init({server:{baseDir:"./"}}),gulp.watch("./src/css/**/*.sass",styles),gulp.watch("./src/js/**/*.js",scripts),gulp.watch("./*.html").on("change",browserSync.reload)}gulp.task("styles",styles),gulp.task("scripts",scripts),gulp.task("del",clean),gulp.task("watch",watch),gulp.task("build",gulp.series(clean,gulp.parallel(styles,scripts))),gulp.task("dev",gulp.series("build","watch"));